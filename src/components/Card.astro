---

import football from "../assets/football.jpg";
import ethereum from "../assets/ethereum.jpg";
import serverless from "../assets/serverless.jpg";

interface Blogs {
    id: number;
    title: string;
    description: string;
    author: string;
    slug:string;
    featuredImage?: any
}

const blogs: Blogs[] = [{
    id: 1,
    title: 'Why i fell in love with Football',
    description: 'A story of how and why i fell in love in the world football',
    author: 'John Doe',
    slug:"Why-i-fell-in-love-with-Football",
    featuredImage: football
},
{
    id: 2,
    title: 'What is Ethereum?',
    description: 'An overview of the a popular blockchain technology - Ethereum',
    author: 'Mandy Eden',
    slug:"What-is-Ethereum?",
    featuredImage: ethereum
},
{
    id: 3,
    title: 'What is Serverless?',
    description: 'An overview of what a serverless application and website',
    author: 'Clark Kent',
    slug:"What-is-serverless",
    featuredImage: serverless
},
];

const response = await fetch(import.meta.env.ASTRO_PUBLIC_WEBINY_API_URL,
  {
    method:'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${import.meta.env.WEBINY_API_TOKEN}`
    },
    body: JSON.stringify({
      query: `
			query PostSlugs {
				listPosts {
					data {
						title
						slug
						description
						featuredImage
						author{
							name
							slug
							picture
						}
					}
				}
			}
        `,
		variables: {},
    }),
  })

const json = await response.json();
const posts = json.data

console.log(posts)
console.log(response);

---
<div class="md:flex md:justify-evenly md:items-center space-y-4 mt-8 px-4">
    {
        blogs.map(blog =>
            <div class="max-w-md bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700">
                <img class="w-full" src={blog.featuredImage} alt={blog.title} />
                <div class="p-6 ">
                    <a href="#">
                        <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">{blog.title}</h5>
                    </a>
                    <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">{blog.description}</p>
                    <div class="flex justify-between items-center">
                        <div class="flex justify-between items-center gap-2">
                            <div class="rounded-full bg-green-600 w-5 h-5"></div>
                            <p>{blog.author}</p>
                        </div>
                        <a href={blog.slug} class="inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-900 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                            Read more
                            <svg class="ml-2 -mr-1 w-4 h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                        </a>
                    </div>
                </div>
            </div>
        )
    }
</div>